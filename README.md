# Wall-Breaker
# ğŸ•¹ï¸ FPGA Breakout Game

> A fully hardware-implemented classic arcade game built from scratch in Verilog HDL for the Altera DE1 FPGA board
>
> Video Demo: 
---
## ğŸ® How to Play

1. **Power on** - Start screen appears automatically
2. **Press `Enter`** - Begin gameplay
3. **Use `A` / `D`** - Move paddle left/right
4. **Press `W`** - Launch ball (use `SW[0]` to choose initial direction)
5. **Break all bricks** - Win the game!
6. **Miss the ball** - Game over (press `Spacebar` to restart)

**Pro tip:** Hit the ball with the left third of the paddle to send it left, right third to send it right, or center for straight bounces!

---

## ğŸ”§ Build Instructions

1. Open project in **Quartus II** (v13.0 or later)
2. Ensure `.mif` files are in project root:
   - `startscreen.mif`
   - `gameover.mif`
   - `black_640_9.mif` (VGA background)
3. Set `vga_demo_original` as top-level entity
4. Compile and program to DE1 board
5. Connect VGA monitor and PS/2 keyboard

---

## ğŸ¯ Key Features

### ğŸ–¥ï¸ **VGA Display Pipeline**
- **640x480 @ 60Hz** native VGA output with 9-bit RGB color depth (512 colors)
- Custom **frame buffer** with pixel-by-pixel write control
- **Multi-layer rendering system** with priority-based display arbitration
- Smooth **sprite animation** with erase-and-redraw cycles synchronized to 60 FPS game tick

### ğŸ¨ **Graphics & Visual Design**
- ğŸŸ¥ **Circular ball sprite** with radius-based pixel masking for authentic round appearance
- ğŸŸ¦ **24 colorful bricks** arranged in 3 rows (8 columns each) with RGB gradient:
  - Red top row, Green middle row, Blue bottom row
  - Black border separation for crisp visual definition
- â¬œ **Dynamic paddle** that follows player input with smooth horizontal movement
- ğŸ–¼ï¸ **Custom start screen** and **game over screen** loaded from MIF (Memory Initialization Files)
- ğŸ“Š **Real-time score display** on 7-segment HEX displays showing bricks destroyed (0-24)

### ğŸ•¹ï¸ **Game Mechanics**
- âŒ¨ï¸ **PS/2 Keyboard Interface** for real-time player control:
  - `A` / `D` keys for paddle movement (left/right)
  - `W` key to launch ball with directional control
  - `Enter` to start game from welcome screen
  - `Spacebar` to restart after game over
- ğŸ¯ **Advanced collision detection**:
  - **AABB (Axis-Aligned Bounding Box)** algorithm for pixel-perfect brick hits
  - **Overlap detection** for paddle bounces (fixes edge-case phasing bugs)
  - **Directional angle control** based on paddle hit position (left/center/right zones)
  - **Side-hit detection** for bricks to create realistic ricochet physics
- ğŸ† **Win/Lose conditions**:
  - Win by destroying all 24 bricks
  - Lose if ball falls below paddle (bottom boundary detection)

### âš™ï¸ **Hardware Architecture**

#### ğŸ”„ **Modular FSM Design**
- **7 independent state machines** working in parallel:
  1. `game_state_controller` - Master game flow (START â†’ PLAYING â†’ GAME_OVER â†’ RESETTING)
  2. `paddle_display` - Paddle rendering with erase/draw states
  3. `ball_display` - Ball sprite animation with collision-aware rendering
  4. `brick_display` - Brick initialization, collision detection, and destruction
  5. `startscreen_display` - Welcome screen painter from ROM
  6. `gameover_display` - Game over screen painter from ROM
  7. `clear_display` - Full-screen wipe for clean state transitions

#### ğŸ”— **Inter-Module Coordination**
- **Busy signal protocol** prevents VGA write conflicts between modules
- **Priority-based multiplexer** ensures screen overlays render correctly:
  - Start screen (highest priority)
  - Game over screen
  - Screen clear operations
  - Gameplay objects (paddle/ball/bricks)
- **Collision handshake** between ball physics and brick display modules

#### ğŸ§  **Parallel Collision Processing**
- **Combinational logic** checks all 24 bricks simultaneously every clock cycle
- Ball position compared against brick boundaries in pure hardware (no loops!)
- Result registered for stable timing and fed back to ball physics module

#### ğŸ’¾ **Memory Architecture**
- **On-chip ROM** (altsyncram) for storing 160Ã—120 MIF images:
  - `startscreen.mif` - Welcome screen graphics
  - `gameover.mif` - Game over overlay
- **4Ã—4 pixel scaling** to fill 640Ã—480 screen (hardware upscaler)
- **25-bit brick state register** tracks alive/destroyed status for all bricks

### ğŸš€ **Performance Optimizations**
- âš¡ **60 FPS game tick** generated by hardware divider from 50MHz system clock
- ğŸ”§ **Gated write signals** during game over prevent unnecessary VGA operations
- ğŸ¯ **Single-cycle collision detection** using parallel comparator arrays
- ğŸ§© **Resource-efficient sprite rendering** using mathematical circle equations instead of image storage

---

## ğŸ“ Technical Specifications

| Specification | Value |
|--------------|-------|
| **FPGA Board** | Altera Cyclone II (DE1) |
| **System Clock** | 50 MHz |
| **VGA Resolution** | 640Ã—480 @ 60Hz |
| **Color Depth** | 9-bit RGB (3-3-3) |
| **Game Tick Rate** | 60 Hz |
| **Ball Size** | 16Ã—16 pixels (circular mask) |
| **Paddle Size** | 80Ã—10 pixels |
| **Brick Size** | 80Ã—20 pixels (with 2px border) |
| **Total Bricks** | 24 (8 columns Ã— 3 rows) |
| **Code Lines** | ~1000+ lines of Verilog RTL |

---

## ğŸ—ï¸ Module Hierarchy

```
vga_demo_original (TOP)
â”œâ”€â”€ game_state_controller     // Master FSM
â”œâ”€â”€ game_tick_timer            // 60Hz clock divider
â”œâ”€â”€ paddle_controller          // Paddle physics
â”œâ”€â”€ ball                       // Ball physics & collision logic
â”œâ”€â”€ paddle_display             // Paddle VGA renderer
â”œâ”€â”€ ball_display               // Ball VGA renderer
â”œâ”€â”€ brick_display              // Brick array renderer + collision detector
â”œâ”€â”€ startscreen_display        // Welcome screen overlay
â”œâ”€â”€ gameover_display           // Game over screen overlay
â”œâ”€â”€ clear_display              // Screen wipe utility
â”œâ”€â”€ startscreen_mem (ROM)      // Start screen image storage
â”œâ”€â”€ gameover_mem (ROM)         // Game over image storage
â””â”€â”€ vga_adapter                // VGA signal generator
```

---
<img width="200" height="400" alt="ChatGPT Image Nov 26, 2025, 07_46_02 PM" src="https://github.com/user-attachments/assets/3b1a3d1a-55a7-470a-8460-8cebd35a8da1" />
<img width="200" height="200" alt="ChatGPT Image Nov 26, 2025, 07_32_34 PM" src="https://github.com/user-attachments/assets/e51795c2-255f-4fa8-9008-54f0371998a4" />


## ğŸ¤ Acknowledgments

Built as a comprehensive digital design project showcasing end-to-end FPGA development from RTL to hardware deployment.

---

## ğŸ“„ License

This project is open-source and available for educational purposes.

---

**â­ If you found this project interesting, please consider starring the repository!**
